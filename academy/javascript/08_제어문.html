<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>자바스크립트에서 제어문 처리</h1>
    <h3>조건문</h3>
    <p>
        if, if ~ else, if ~ else if ~ else, switch으로 구성되어있고
        자바와 동일하게 사용한다.
    </p>
    <div>
        <p>p1</p>
        <p>p2</p>
        <p>p3</p>
        <p>p4</p>
        <p>p5</p>
        <p>p6</p>
        <p>p7</p>
        <p>p8</p>
    </div>
    <button onclick="checkP();">값 찾기</button>
    <script>
        function checkP() {
            //p태그 가져오기
            let ps=document.getElementsByTagName("p");
            ps=document.querySelectorAll("div>p");
            if(ps[0].innerHTML.includes("1")){
                ps[0].style.color="red";
            }
            if(ps[1].innerHTML=="p2"){
                ps[1].style.backgroundColor="orange";
            }
            console.log(ps);
        }
    </script>
    
    <button onclick="changeP();">글자색 변경</button>
    <script>
        function changeP() {
            let ps=document.getElementsByTagName("p");
            console.log(ps);
            for(let i=1;i<ps.length;i++){
                let flag=i%3;
                if(flag==0){
                    ps[i].style.color="lime";
                }else if(flag==1){
                    ps[i].style.color="skyblue";
                }else if(flag==2){
                    ps[i].style.color="violet";
                }
            }
        }
    </script>

    <ul>
        <li>가</li>
        <li>나다</li>
        <li>라마바</li>
        <li>1</li>
        <li>23</li>
        <li>456</li>
        <li>a</li>
        <li>bc</li>
        <li>def</li>
        <li>1000</li>
    </ul>
    <button onclick="liChange();">변경</button>
    <script>
        function liChange(){
            // li내의 문구의 길이가 1이면 빨간색 2 : 주황, 3:녹색
            // 해당이 없는 경우 파란색으로 변경

            let lis=document.getElementsByTagName("li");
            for(let i=0;i<lis.length;i++){
                let value=lis[i].innerHTML;
                console.log(lis[i]);
                console.log(value);
                let color;
                // if(value.length==1){
                //     color="red";
                // }else if(value.length==2){
                //     color="orange";
                // }else if(value.length==3){
                //     color="green"
                // }else{
                //     color="blue";
                // }
                
                //switch문으로 변경하기
                // switch(value.length){
                //     case 1 : color="aqua";break;
                //     case 2 : color="magenta";break;
                //     case 3 : color="khaki";break;
                //     default : color="deeppink";break;
                // }

                //swicth문 인자에 boolean을 넣을 수 있음.
                switch(true){
                    case value.length==1 : color="tomato";break;
                    case value.length==2 : color="lightgreen";break;
                    case value.length==3 : color="lightskyblue";break;
                    default : color="navy";break;
                }
                lis[i].style.color=color;
            }
        }
    </script>

    <h3>짧은 조건문이용하기</h3>
    <p>
        논리연산의 로직을 이용해서 조건문처럼 활용하는 방식
        A && B : 두개다 true일때 true
        A || B : 한개만 ture true
    </p>
    <script>
        let num=1;
        // if(num%2==0){
        //     alert("짝수");
        // }
        num%2==0&&alert("짝수");
        num%2==0||alert("홀수");
    </script>

    <input type="text" id="num">
    <button onclick="checkEven();">짝수, 홀수</button>
    <div id="result2"></div>
    <script>
        function checkEvent() {
            let num=document.getElementById("num").value;
            let result=document.getElementById("result2");
            num%2==1&&(result.innerHTML="홀수");
            num%2||1&&(result.innerHTML="짝수");
        }
    </script>

    <h3>반복문</h3>
    <p>
        for, for~in, while, do~while, break, continue
    </p>
    <script>
        for(let i=0;i<10;i++){
            console.log(i);
        }
    </script>

    <table>
        <tr>
            <td class="a">1</td>
            <td class="a">2</td>
            <td class="a">3</td>
        </tr>
        <tr>
            <td class="a">4</td>
            <td class="a">5</td>
            <td class="a">6</td>
        </tr>
        <tr>
            <td class="a">7</td>
            <td class="a">8</td>
            <td class="a">9</td>
        </tr>
    </table>
    <button onclick="tdChange();">td변경하기</button>
    <script>
        function tdChange() {
            let td=document.getElementsByClassName("a");
            console.log(td);
            for(let i=0;i<td.length;i++){
                let val=td[i].innerHTML;
                if(Number(val)%2==1){
                    td[i].style.backgroundColor="darkgreen";
                } else {
                    td[i].style.backgroundColor="blue";
                }
            }
        }
    </script>

    <h4>for in</h4>
    <p>
        for in문은 foreach문과 비슷하나 배열에서는 사용하지 않음.
        *객체에 대한 데이터를 전체 순회할 떄 사용
    </p>
    <script>
        let obj={
            name : "chan",
            age:19
        }
        for(let key in obj){ // key/value형태에서만 사용
            console.log("key : "+key+" value : "+obj[key]);
        }
    </script>

    <h3>while, do~while</h3>
    <button onclick="searchTd();">while문 이용하기</button>
    <div id="result3"></div>
    <script>
        function searchTd(){
            let td=document.getElementsByClassName("a");
            let i=0;
            while(true){
                let temp=td[i++].innerHTML;
                if(temp=="9"){
                    document.getElementById("result3").innerHTML="있다!";
                    break;
                }
            }
        }
    </script>

</body>
</html>